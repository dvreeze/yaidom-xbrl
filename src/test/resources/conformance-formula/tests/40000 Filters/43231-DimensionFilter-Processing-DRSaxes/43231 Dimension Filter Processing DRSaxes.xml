<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2007 XBRL International. All Rights Reserved. -->
<?xml-stylesheet type="text/xsl" href="../../../infrastructure/test.xsl"?>
<testcase
xmlns="http://xbrl.org/2008/conformance"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="
  http://xbrl.org/2008/conformance 
  ../../../infrastructure/test.xsd">
  <creator>
    <name>Herm Fischer</name>
    <email>fischer@markv.com</email>
  </creator>
  <number>43231</number>
  <name>43231 Dimension Filter Processing DRSaxes</name>
  <description>
    Test dimension member filter processing for DRS axes.
  </description>
  <reference specification="DIMENSION-FILTER" id="sec-explicit-dimension-filter"/>

  <variation id="V-01">
    <name>Tests of DRS-child axis</name>
    <description>
      Instance facts of primary item n3 aggregate in the effective domain that is the
      union of DRSrole1 and DRSrole2.  Shows that the ELR hypercubes are 'or'ed in 
      determining the union.  Shows that the dim1Mem3 fact is not aggregated because
      it has no target relationship to the total as a child. 
      Instance facts of primary item n4 aggregate in DRSrole3.  Shows that the not 
      usable relationship is not part of the aggregate.
    </description>
    <reference specification="DIMENSION-FILTER" id="sec-explicit-dimension-filter"/>
    <data>
      <schema>test1.xsd</schema>
      <linkbase>test1-definition.xml</linkbase>
      <linkbase>test1-formula1.xml</linkbase>
      <instance readMeFirst="true">test1-instance1.xml</instance>
    </data>
    <result>
      <assertionTests 
         assertionID="assertion"
         countSatisfied="2"
         countNotSatisfied="0" />
    </result>
  </variation>

  <variation id="V-02">
    <name>Tests of DRS-descendant axis</name>
    <description>
      Same as V-01 but members are in a hierarchy to test DRS-descendant axis.
    </description>
    <reference specification="DIMENSION-FILTER" id="sec-explicit-dimension-filter"/>
    <data>
      <schema>test2.xsd</schema>
      <linkbase>test2-definition.xml</linkbase>
      <linkbase>test2-formula1.xml</linkbase>
      <instance readMeFirst="true">test2-instance1.xml</instance>
    </data>
    <result>
      <assertionTests 
         assertionID="assertion"
         countSatisfied="2"
         countNotSatisfied="0" />
    </result>
  </variation>

  <variation id="V-03">
    <name>Tests with specified link role</name>
    <description>
      Instance facts of primary item n3 aggregate in the effective domain that is the
      limited to DRSrole1.  
    </description>
    <reference specification="DIMENSION-FILTER" id="sec-explicit-dimension-filter"/>
    <data>
      <schema>test1.xsd</schema>
      <linkbase>test1-definition.xml</linkbase>
      <linkbase>test1-formula2.xml</linkbase>
      <instance readMeFirst="true">test1-instance2.xml</instance>
    </data>
    <result>
      <assertionTests 
         assertionID="assertion"
         countSatisfied="1"
         countNotSatisfied="0" />
    </result>
  </variation>

  <variation id="V-03">
    <name>Tests with specified link role and irrelevant arc role</name>
    <description>
      Instance facts of primary item n3 aggregate in the effective domain that is the
      limited to DRSrole1, the arc role is irrelevant.  
    </description>
    <reference specification="DIMENSION-FILTER" id="sec-explicit-dimension-filter"/>
    <data>
      <schema>test1.xsd</schema>
      <linkbase>test1-definition.xml</linkbase>
      <linkbase>test1-formula3.xml</linkbase>
      <instance readMeFirst="true">test1-instance3.xml</instance>
    </data>
    <result>
      <assertionTests 
         assertionID="assertion"
         countSatisfied="1"
         countNotSatisfied="0" />
    </result>
  </variation>

  <variation id="V-04">
    <name>Tests with no member variable, filter-member-set is empty</name>
    <description>
      Nothing binds.  
    </description>
    <reference specification="DIMENSION-FILTER" id="sec-explicit-dimension-filter"/>
    <data>
      <schema>test1.xsd</schema>
      <linkbase>test1-definition.xml</linkbase>
      <linkbase>test1-formula4.xml</linkbase>
      <instance readMeFirst="true">test1-instance4.xml</instance>
    </data>
    <result>
      <assertionTests 
         assertionID="assertion"
         countSatisfied="0"
         countNotSatisfied="0" />
    </result>
  </variation>

  <variation id="V-05">
    <name>Tests with notAll exclusion</name>
    <description>
      Same as V-01 but instance facts of primary item n4 aggregate in DRSrole3.  A notAll
      excludes dim1Mem4's relationship from being considered.
    </description>
    <reference specification="DIMENSION-FILTER" id="sec-explicit-dimension-filter"/>
    <data>
      <schema>test3.xsd</schema>
      <linkbase>test3-definition.xml</linkbase>
      <linkbase>test3-formula1.xml</linkbase>
      <instance readMeFirst="true">test3-instance1.xml</instance>
    </data>
    <result>
      <assertionTests 
         assertionID="assertion"
         countSatisfied="2"
         countNotSatisfied="0" />
    </result>
  </variation>


</testcase>


