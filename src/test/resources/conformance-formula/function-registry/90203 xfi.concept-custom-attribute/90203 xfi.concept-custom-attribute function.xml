<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright 2008 XBRL International. All Rights Reserved. -->
<?xml-stylesheet type="text/xsl" href="../stylesheets/functionDefinition.xsl"?>
<function
  xmlns="http://xbrl.org/2008/function" 
  xmlns:reg="http://xbrl.org/2008/registry" 
  xmlns:xhtml="http://www.w3.org/1999/xhtml" 
  xmlns:xfi="http://www.xbrl.org/2008/function/instance" 
  xmlns:xfie="http://www.xbrl.org/2008/function/instance/error" 
  xmlns:xbrli="http://www.xbrl.org/2003/instance" 
  xmlns:xlink="http://www.w3.org/1999/xlink" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xsi:schemaLocation="
  http://xbrl.org/2008/registry ../schemas/registry.xsd
  http://xbrl.org/2008/function ../schemas/function.xsd
  ">

  <lastUpdated moment="2008-02-04T00:00:00" />

  <owners>
    <reg:owner id="geoff">
       <reg:name>Geoff Shuetrim</reg:name>
       <reg:affiliation>Galexy</reg:affiliation>
       <reg:email>geoff@galexy.net</reg:email>
       <reg:assumedOwnership moment="2008-02-04T14:50:00" />
    </reg:owner>
  </owners>

  <summary>
    Obtain the value of of an attribute on an XBRL concept declaration that 
    is not in the XBRL instance or XML Schema namespaces.
  </summary>

  <documentation>
  </documentation>

  <signature name="xfi:concept-custom-attribute">
    <input name="concept-name" type="xs:QName">
      <xhtml:p>
        This parameter is the QName of the XBRL concept for which the 
        custom attribute value is being sought.
      </xhtml:p>
    </input>
    <input name="attribute-name" type="xs:QName">
      <xhtml:p>
        This parameter is the QName of the custom attribute whose 
        value is being sought.
      </xhtml:p>
    </input>
    <output type="xs:anyAtomicType?">
      <xhtml:p>
        Returns the value of the custom attribute on the XBRL concept if the
        attribute is on the concept declaration element.
      </xhtml:p>
      <xhtml:p>
        If the custom attribute is omitted from the concept declaration,
        then an empty sequence is returned.
      </xhtml:p>
    </output>
  </signature>

  <error code="xfie:invalidConceptQName">
    <xhtml:p>
      This error MUST be thrown if the concept name parameter contains a
      QName that is not the QName of a concept in the reference discoverable
      taxonomy set.
    </xhtml:p>
  </error>

  <conformanceTest xlink:type="simple" xlink:href="90203 xfi.concept-custom-attribute testcase.xml"/>

  <revisions>
    <reg:revision on="2008-02-04T00:00:00" by="geoff">
      <xhtml:p>
        Created the function definition.
      </xhtml:p>
    </reg:revision>
    <reg:revision on="2008-02-06T09:23:00" by="geoff">
      <xhtml:p>
        Changed the output data type to avoid forcing type conversion
        to a string.  This change was suggested by Herm Fischer to better 
        handle situations where the custom attribute has a QName data type.
      </xhtml:p>
      <xhtml:p>
        Changed the output to an empty sequence rather than a string to avoid
        confusion in situations where the attribute is provided by has a value
        that is the empty string.
      </xhtml:p>
      <xhtml:p>
        Fixed up the typo referencing the xbrli:periodType attribute rather than
        the custom attribute.
      </xhtml:p>
    </reg:revision>
  </revisions>

</function>
